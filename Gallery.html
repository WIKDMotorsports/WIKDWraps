<!DOCTYPE html>
<html class="js" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gallery | WIKD Wraps</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Added missing script for animated icons -->
    <script src="https://animatedicons.co/scripts/embed-animated-icons.js"></script>
    
    <style>
      :root {
            --color-background: #050505;
            --color-text: #EAEAEA;
            --color-text-muted: #888888;
            --color-primary: #FF3B30;
            --color-surface: #111111;
            --color-border: #2A2A2A;
            --font-heading: 'Rajdhani', sans-serif;
            --font-body: 'Inter', sans-serif;
        }

        /* --- CORE BASE --- */
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--color-background) !important;
            color: var(--color-text) !important;
            font-family: var(--font-body) !important;
            overflow-x: hidden;
            position: relative;
            margin: 0;
            -webkit-font-smoothing: antialiased;
        }
        
        /* --- NOISE TEXTURE --- */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; 
            z-index: 40; /* Lowered below Nav (50) */
            opacity: 0.05; /* Subtler */
            background-repeat: repeat;
            background-size: 150px 150px; 
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3, .font-heading {
            font-family: var(--font-heading) !important;
            font-weight: 700 !important;
            line-height: 1.1 !important;
            text-transform: uppercase !important;
            color: white !important;
            letter-spacing: 0.02em;
        }
        
        p, .font-body { 
          font-family: var(--font-body) !important; 
          color: var(--color-text) !important; 
          line-height: 1.6 !important;
        }
        .text-muted { color: var(--color-text-muted) !important; }

        /* --- NAVIGATION --- */
        .nav-bar {
            position: absolute;
            top: 0; left: 0; width: 100%;
            padding: 2rem 5%;
            z-index: 50;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .nav-logo {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: 1.5rem;
            color: white;
            text-decoration: none;
            letter-spacing: 1px;
        }
        .nav-link {
            color: var(--color-text);
            text-decoration: none;
            font-family: var(--font-heading);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        .nav-link:hover { color: var(--color-primary); }

        main { padding-top: 8rem; min-height: 80vh; }

        /* --- PROJECT SECTIONS --- */
        .project-section {
            margin-bottom: 2rem; 
            padding-bottom: 1rem; 
            contain: content; 
            position: relative;
            overflow: hidden;
            z-index: 1; 
        }
        .project-section:last-child { margin-bottom: 0; }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 2rem;
            padding: 0 5%;
            flex-wrap: wrap;
            gap: 1rem;
            position: relative;
            z-index: 10; 
        }
        
        /* --- TICKER GALLERY --- */
        .ticker-view {
            overflow: hidden;
            width: 100%;
            padding: 1rem 0;
            position: relative;
            cursor: grab;
            mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%);
            -webkit-mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%);
        }
        .ticker-view:active { cursor: grabbing; }

        .ticker-track {
            display: flex;
            gap: 1.5rem;
            width: max-content;
            will-change: transform;
            transform: translate3d(0,0,0);
            backface-visibility: hidden;
            perspective: 1000px;
        }
        
        .gallery-item {
            flex: 0 0 70vw; 
            position: relative;
            aspect-ratio: 16/9; 
            border-radius: 2px;
            overflow: hidden;
            border: 1px solid var(--color-border);
            background: var(--color-surface);
            transition: border-color 0.3s ease, transform 0.3s ease;
        }
        .gallery-item:hover {
            border-color: var(--color-primary);
        }
        
        @media (min-width: 768px) { .gallery-item { flex: 0 0 40vw; } }
        @media (min-width: 1024px) { .gallery-item { flex: 0 0 28vw; } }

        /* Image & Skeleton Loading */
        .gallery-img {
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.6s ease-out, transform 0.6s ease;
            transform: scale(1.02);
            display: block;
        }
        .gallery-img.loaded { opacity: 1; transform: scale(1); }
        .gallery-item:hover .gallery-img { transform: scale(1.05); }

        .skeleton-loader {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(90deg, #111 25%, #1a1a1a 50%, #111 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            z-index: -1;
        }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

        /* --- LIGHTBOX --- */
        #lightbox {
            position: fixed; inset: 0; z-index: 10000;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(15px);
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none;
            transition: opacity 0.3s ease;
        }
        #lightbox.active { opacity: 1; pointer-events: all; }
        #lightbox img {
            max-width: 90vw; max-height: 90vh;
            border: 1px solid var(--color-border);
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            transform: scale(0.95); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        #lightbox.active img { transform: scale(1); }
        .lightbox-close {
            position: absolute; top: 2rem; right: 2rem;
            color: white; font-family: var(--font-heading); font-size: 1.5rem;
            cursor: pointer; transition: color 0.3s;
        }
        .lightbox-close:hover { color: var(--color-primary); }

        /* --- FOOTER --- */
        .wikd-footer {
            background-color: #080808;
            border-top: 1px solid var(--color-border);
            padding: 5rem 0 2rem;
            position: relative;
        }
        .wikd-footer-container { width: 92%; max-width: 1400px; margin: 0 auto; }
        .wikd-footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 4rem; margin-bottom: 4rem; }
        .wikd-footer-logo { width: 200px; height: auto; opacity: 0.9; }
        .wikd-footer-links a {
            color: var(--color-text-muted); text-decoration: none;
            font-size: 0.9rem; transition: all 0.3s ease; display: block; margin-bottom: 0.8rem;
        }
        .wikd-footer-links a:hover { color: var(--color-primary); transform: translateX(5px); }
        .wikd-footer-column h3 {
            font-family: var(--font-heading); font-size: 1.2rem; color: white;
            margin-bottom: 1.5rem; letter-spacing: 1px; border-left: 3px solid var(--color-primary);
            padding-left: 1rem;
        }
        .wikd-footer-bottom {
            border-top: 1px solid var(--color-border); padding-top: 2rem;
            display: flex; justify-content: space-between; color: var(--color-text-muted); font-size: 0.85rem;
        }

        @media (max-width: 992px) { .wikd-footer-grid { grid-template-columns: 1fr 1fr; gap: 2rem; } .wikd-footer-brand { grid-column: 1 / -1; } }
        @media (max-width: 640px) { .wikd-footer-grid { grid-template-columns: 1fr; } .wikd-footer-bottom { flex-direction: column; gap: 1rem; text-align: center; } }
    </style>
</head>
<body>

    <!-- Lightbox Component -->
    <div id="lightbox">
        <div class="lightbox-close">CLOSE [ESC]</div>
        <img id="lightbox-img" src="" alt="Full View">
    </div>

    <!-- Nav -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
    :root {
        --color-background: #0A0A0A;
        --color-text: #EAEAEA;
        --color-text-muted: #888888;
        --color-primary: #FF3B30;
        --color-surface: #141414;
        --color-border: #2A2A2A;
        --font-heading: 'Rajdhani', sans-serif;
        --font-body: 'Inter', sans-serif;
    }

    body {
        font-family: var(--font-body);
        background-color: var(--color-background);
        color: var(--color-text);
        margin: 0;
        padding: 0;
    }

    .font-heading {
        font-family: var(--font-heading);
    }

    /* INSTANT QUOTE BUTTON */
    .btn-wikd {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 36px;
        padding: 0 1.5rem;
        font-family: var(--font-heading);
        font-size: 14px;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        text-decoration: none;
        cursor: pointer;
        transition: all 0.2s ease;
        background-color: #FFFFFF;
        color: #000000;
        border: none;
        clip-path: polygon(0 0, 100% 0, 100% 100%, 12px 100%, 0 70%);
        line-height: 1;
    }

    .btn-wikd:hover {
        background-color: #EAEAEA;
        transform: translateY(-1px);
    }

    /* NAVBAR LINKS */
    .nav-link {
        position: relative;
        font-family: var(--font-heading);
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--color-text);
        transition: color 0.2s ease;
        font-size: 15px;
        background: transparent;
        border: none;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 4px;
        line-height: 1;
        padding: 0;
    }

    .nav-link:hover {
        color: var(--color-primary);
    }

    /* DROPDOWN PANEL */
    .dropdown-menu {
        opacity: 0;
        visibility: hidden;
        transform: translateX(-50%) translateY(-15px);
        transition: opacity 0.15s ease-out, transform 0.15s cubic-bezier(0.16, 1, 0.3, 1), visibility 0.15s;
        background-color: #050505;
        border: 1px solid #222;
        border-top: 2px solid var(--color-primary);
        clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
        padding: 0.5rem;
        padding-bottom: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 4px;
        z-index: 100;
        box-shadow: 0 30px 60px -10px rgba(0,0,0,0.8);
    }

    .group:hover .dropdown-menu {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
    }

    .menu-label {
        font-family: var(--font-heading);
        font-size: 0.65rem;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        color: #444;
        padding: 0.75rem 1rem 0.25rem 1rem;
        pointer-events: none;
    }

    .menu-tile {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        width: 100%;
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        font-weight: 600;
        color: #999;
        background-color: #111;
        border: 1px solid #1A1A1A;
        transition: all 0.15s ease-out;
        text-decoration: none;
        font-family: var(--font-body);
        letter-spacing: 0.02em;
        border-radius: 0;
        line-height: 1.4;
    }

    .menu-tile:hover {
        background-color: #161616;
        color: white;
        border-color: #333;
        box-shadow: inset 3px 0 0 var(--color-primary);
        transform: translateX(2px);
    }

    .menu-tile i {
        color: #333;
        transition: color 0.15s ease;
        width: 18px;
        height: 18px;
        flex-shrink: 0;
    }

    .menu-tile:hover i {
        color: var(--color-primary);
    }

    .menu-expand-row {
        display: flex;
        flex-direction: column;
        width: 100%;
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        font-weight: 600;
        color: #999;
        background-color: #111;
        border: 1px solid #1A1A1A;
        transition: all 0.2s ease;
        text-decoration: none;
        border-radius: 0;
        min-height: 42px;
        height: auto;
    }

    .menu-expand-row:hover {
        background-color: #161616;
        color: white;
        border-color: #333;
        box-shadow: inset 3px 0 0 var(--color-primary);
        transform: translateX(2px);
    }

    .menu-expand-description {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        font-size: 0.75rem;
        color: #666;
        font-weight: 400;
        margin-left: 2rem;
        line-height: 1.3;
        padding-top: 0;
    }

    .menu-expand-row:hover .menu-expand-description {
        max-height: 100px;
        opacity: 1;
        padding-top: 0.25rem;
    }

    .menu-expand-row i {
        color: #333;
        transition: color 0.15s ease;
    }

    .menu-expand-row:hover i {
        color: var(--color-primary);
    }

    .menu-tile-main {
        background: linear-gradient(90deg, #161616 0%, #0A0A0A 100%);
        border: 1px solid #222;
        color: white;
        font-family: var(--font-heading);
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        padding: 0.75rem 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.25rem;
    }

    .menu-tile-main:hover {
        border-color: #444;
        color: var(--color-primary);
    }

    /* QR TOOLTIP */
    .qr-tooltip {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(10px);
        margin-top: 20px;
        background-color: #141414;
        border: 1px solid var(--color-border);
        border-radius: 12px;
        padding: 0.75rem;
        z-index: 2006;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;
        pointer-events: none;
    }

    .group\/call:hover .qr-tooltip {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
        pointer-events: auto;
    }

    .qr-tooltip::before {
        content: '';
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        border-width: 8px;
        border-style: solid;
        border-color: transparent transparent var(--color-border) transparent;
    }

    /* MOBILE MENU */
    #mobile-menu {
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        background-color: #000;
        border-bottom: 1px solid #222;
    }

    #mobile-menu.open {
        max-height: 100vh;
        opacity: 1;
    }

    .logo-text {
        font-family: var(--font-heading);
        font-weight: 800;
        text-transform: uppercase;
        line-height: 1;
    }

    /* NAVBAR GRADIENT */
    nav::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100px;
        background: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 1) 0%,
            rgba(0, 0, 0, 0.8) 40%,
            transparent 100%
        );
        z-index: -1;
        pointer-events: none;
    }
</style>
<!-- Navigation Bar -->
<nav class="fixed top-0 w-full z-50 bg-transparent h-16">
    <div class="max-w-[1400px] mx-auto px-4 h-full">
        <div class="flex justify-between items-center h-full">

            <!-- Logo -->
            <a href="https://wikdwraps.com/" class="flex items-center">
                <span class="logo-text text-2xl tracking-tight text-white hover:text-[#FF3B30] transition-colors">
                    WIKD<span class="font-semibold text-[#666]">WRAPS</span>
                </span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center h-full gap-12">

                <!-- Navigation Links -->
                <div class="flex items-center gap-8 h-full">

                    <!-- Services Dropdown -->
                    <div class="relative group h-full flex items-center">
                        <button class="nav-link">
                            SERVICES
                            <i data-lucide="chevron-down" class="w-3 h-3"></i>
                        </button>
                        <div class="dropdown-menu absolute top-[64px] left-1/2 w-80">
                            <a href="https://wikdwraps.com/pages/our-services" class="menu-tile-main">
                                <span>View All Services</span>
                                <i data-lucide="arrow-right" class="w-4 h-4"></i>
                            </a>

                            <div class="menu-label">Protect</div>
                            <a href="https://wikdwraps.com/pages/paint-protection-film" class="menu-tile">
                                <i data-lucide="shield" class="w-4 h-4"></i>
                                Paint Protection Film
                            </a>
                            <a href="https://wikdwraps.com/pages/ceramic-coatings" class="menu-tile">
                                <i data-lucide="droplets" class="w-4 h-4"></i>
                                Ceramic Coatings
                            </a>
                            <a href="https://wikdwraps.com/pages/window-tint" class="menu-tile">
                                <i data-lucide="sun" class="w-4 h-4"></i>
                                Window Tint
                            </a>

                            <div class="menu-label mt-1">Customize</div>
                            <a href="https://wikdwraps.com/pages/vinyl-wraps" class="menu-tile">
                                <i data-lucide="palette" class="w-4 h-4"></i>
                                Vinyl Wraps
                            </a>

                            <div class="menu-label mt-1">Maintain</div>
                            <a href="https://wikdwraps.com/pages/detailing" class="menu-tile">
                                <i data-lucide="sparkles" class="w-4 h-4"></i>
                                Detailing
                            </a>
                            <a href="https://wikdwraps.com/pages/maintenance-plans" class="menu-tile">
                                <i data-lucide="calendar-check" class="w-4 h-4"></i>
                                Maintenance Plans
                            </a>

                            <div class="menu-label mt-1">Tools</div>
                            <a href="https://wikdwraps.com/pages/estimate-configurator" class="menu-tile">
                                <i data-lucide="calculator" class="w-4 h-4"></i>
                                Estimate Configurator
                            </a>
                        </div>
                    </div>

                    <!-- Company Dropdown -->
                    <div class="relative group h-full flex items-center">
                        <button class="nav-link">
                            COMPANY
                            <i data-lucide="chevron-down" class="w-3 h-3"></i>
                        </button>
                        <div class="dropdown-menu absolute top-[64px] left-1/2 w-64">
                            <div class="menu-label">Information</div>
                            <a href="https://wikdwraps.com/pages/about-us-1" class="menu-tile">
                                <i data-lucide="info" class="w-4 h-4"></i>
                                About Us
                            </a>
                            <a href="https://wikdwraps.com/pages/contact" class="menu-tile">
                                <i data-lucide="mail" class="w-4 h-4"></i>
                                Contact
                            </a>
                            <a href="https://wikdwraps.com/pages/careers" class="menu-tile">
                                <i data-lucide="briefcase" class="w-4 h-4"></i>
                                Careers
                            </a>
                            <a href="https://wikdwraps.com/pages/dealers" class="menu-tile">
                                <i data-lucide="users" class="w-4 h-4"></i>
                                Dealers
                            </a>

                            <div class="menu-label mt-1">Our Ecosystem</div>

                            <a href="https://www.wikdmotorsports.com/" target="_blank" class="menu-expand-row">
                                <div class="flex items-center justify-between w-full">
                                    <div class="flex items-center gap-3">
                                        <i data-lucide="gauge" class="w-4 h-4"></i>
                                        <span>WIKD</span>
                                    </div>
                                    <i data-lucide="external-link" class="w-3 h-3 opacity-50"></i>
                                </div>
                                <div class="menu-expand-description">
                                    Tuning, Fabrication & Custom Builds
                                </div>
                            </a>

                            <a href="https://boltmotorsports.com/" target="_blank" class="menu-expand-row">
                                <div class="flex items-center justify-between w-full">
                                    <div class="flex items-center gap-3">
                                        <i data-lucide="zap" class="w-4 h-4"></i>
                                        <span>Bolt</span>
                                    </div>
                                    <i data-lucide="external-link" class="w-3 h-3 opacity-50"></i>
                                </div>
                                <div class="menu-expand-description">
                                    Premium Performance Parts
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- Gallery Link -->
                    <a href="https://wikdwraps.com/pages/gallery" class="nav-link">
                        GALLERY
                    </a>

                </div>

                <!-- Action Buttons -->
                <div class="flex items-center gap-5 h-full">

                    <!-- Call Icon with QR -->
                    <div class="relative group/call flex items-center h-full">
                        <a href="tel:469-625-1127" id="nav-call-link" class="flex items-center justify-center" title="Click to call or scan QR code on desktop">
                            <div style="width: 24px; height: 24px;">
                                <animated-icons
                                    src="https://animatedicons.co/get-icon?name=Calling%20V3&style=minimalistic&token=66ff3706-138c-41fa-a993-dee03566e48c"
                                    trigger="loop"
                                    attributes='{"variationThumbColour":"#FF3B30","variationName":"Dark","variationNumber":4,"numberOfGroups":2,"strokeWidth":1.5,"background":"#000000","defaultColours":{"group-1":"#FF3B30","group-2":"#EAEAEA","background":"#000000"}}'
                                    height="24" width="24">
                                </animated-icons>
                            </div>
                        </a>

                        <div id="nav-qr-tooltip" class="qr-tooltip">
                            <div id="qr-code-container"></div>
                            <p class="mt-2 text-xs text-gray-300 font-bold uppercase tracking-wider">Scan to call</p>
                        </div>
                    </div>

                    <!-- Quote Button -->
                    <a href="https://wikdwraps.com/pages/estimate-configurator" class="btn-wikd">
                        INSTANT QUOTE
                    </a>

                </div>
            </div>

            <!-- Mobile Actions -->
            <div class="flex items-center gap-4 lg:hidden">
                <a href="tel:469-625-1127" class="text-white hover:text-[#FF3B30] transition-colors">
                    <i data-lucide="phone" class="w-5 h-5"></i>
                </a>
                <a href="https://wikdwraps.com/pages/estimate-configurator" class="text-white hover:text-[#FF3B30] transition-colors">
                    <i data-lucide="file-text" class="w-5 h-5"></i>
                </a>
                <button id="mobile-menu-btn" class="text-white hover:text-[#FF3B30] focus:outline-none transition-colors">
                    <i data-lucide="menu" class="w-7 h-7"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="lg:hidden mt-[64px]">
        <div class="px-4 py-4 space-y-2 bg-black border-b border-[#333]">
            <div class="space-y-1">
                <div class="text-[10px] text-[#555] font-bold uppercase tracking-widest font-heading px-3 mb-1">Services</div>
                <a href="https://wikdwraps.com/pages/paint-protection-film" class="block px-3 py-2 text-sm text-[#CCC] hover:text-white hover:bg-[#111]">Paint Protection</a>
                <a href="https://wikdwraps.com/pages/ceramic-coatings" class="block px-3 py-2 text-sm text-[#CCC] hover:text-white hover:bg-[#111]">Ceramic Coatings</a>
                <a href="https://wikdwraps.com/pages/vinyl-wraps" class="block px-3 py-2 text-sm text-[#CCC] hover:text-white hover:bg-[#111]">Vinyl Wraps</a>
                <a href="https://wikdwraps.com/pages/window-tint" class="block px-3 py-2 text-sm text-[#CCC] hover:text-white hover:bg-[#111]">Window Tint</a>
                <a href="https://wikdwraps.com/pages/detailing" class="block px-3 py-2 text-sm text-[#CCC] hover:text-white hover:bg-[#111]">Detailing</a>
            </div>
            <div class="pt-2">
                <a href="https://wikdwraps.com/pages/estimate-configurator" class="block w-full text-center bg-white text-black font-bold uppercase tracking-wider py-3 text-sm" style="clip-path: polygon(0 0, 100% 0, 100% 100%, 12px 100%, 0 80%);">Instant Quote</a>
            </div>
        </div>
    </div>
</nav>

    <main id="gallery-container">
        <!-- 
           Dynamic Project Generation 
           Content is fetched via JS from the JSON endpoint.
        -->
        <div class="text-center w-full py-20 text-gray-500 font-heading text-lg tracking-widest animate-pulse">
            LOADING GALLERY...
        </div>
    </main>

    <footer class="wikd-footer">
        <div class="wikd-footer-container">
            <div class="wikd-footer-grid">
                <!-- Brand Column -->
                <div class="wikd-footer-brand">
                    <img src="https://wikdwraps.com/cdn/shop/files/output-onlinepngtools_3.png?v=1737407428&width=300" alt="WIKD Wraps" class="wikd-footer-logo">
                    <p class="text-muted mt-4">Uncompromised Protection. WIKD Craftsmanship.</p>
                </div>
                <!-- Links -->
                <div class="wikd-footer-column">
                    <h3>Services</h3>
                    <div class="wikd-footer-links">
                        <a href="#">Paint Protection Film</a>
                        <a href="#">Ceramic Coatings</a>
                        <a href="#">Vinyl Wraps</a>
                        <a href="#">Window Tint</a>
                        <a href="#">Detailing</a>
                    </div>
                </div>
                <div class="wikd-footer-column">
                    <h3>Company</h3>
                    <div class="wikd-footer-links">
                        <a href="#">About Us</a>
                        <a href="#">Gallery</a>
                        <a href="#">Contact</a>
                        <a href="#">Careers</a>
                    </div>
                </div>
            </div>
            <div class="wikd-footer-bottom">
                <div>Â© 2025 WIKD Wraps. All rights reserved.</div>
                <div class="flex gap-4">
                    <a href="#" class="text-muted hover:text-white transition-colors">Privacy</a>
                    <a href="#" class="text-muted hover:text-white transition-colors">Terms</a>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const galleryContainer = document.getElementById('gallery-container');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxClose = document.querySelector('.lightbox-close');
        
        // URL for the JSON data
        const DATA_URL = "https://cdn.shopify.com/s/files/1/0648/4826/5421/files/GallerydataWraps.json?v=1764691746";

        // --- FETCH & RENDER LOGIC ---
        async function initGallery() {
            try {
                const response = await fetch(DATA_URL);
                if (!response.ok) throw new Error("Network response was not ok");
                
                const data = await response.json();
                
                // Ensure we have projects
                if (data.gallery_projects && Array.isArray(data.gallery_projects)) {
                    renderProjects(data.gallery_projects);
                    // Only start animations after DOM is populated
                    startAnimations();
                } else {
                    galleryContainer.innerHTML = '<div class="text-center py-20 text-red-500">Error loading projects. Format unexpected.</div>';
                }
            } catch (error) {
                console.error("Gallery Fetch Error:", error);
                galleryContainer.innerHTML = '<div class="text-center py-20 text-red-500">Unable to load gallery data. Please try again later.</div>';
            }
        }

        function renderProjects(projects) {
            // Clear loading state
            galleryContainer.innerHTML = '';
            
            const mixedBagImages = [];

            projects.forEach(project => {
                // Check if project has enough images for a standalone section
                // If 2 or fewer images, add to mixed bag
                if (!project.images || project.images.length <= 2) {
                    if (project.images) {
                        mixedBagImages.push(...project.images);
                    }
                    return;
                }

                // Create Section
                const section = document.createElement('section');
                section.className = 'project-section';
                // Default speed if missing in JSON
                section.setAttribute('data-speed', project.scroll_speed || "0.5");

                // CLEAN UP TEXT: Remove "Ryft"
                let title = project.title || "";
                let subtitle = project.subtitle || "";

                // Specifically remove "(Ryft Edition)" to avoid empty parentheses ()
                title = title.replace(/\(Ryft Edition\)/gi, "").replace(/Ryft/gi, "");
                subtitle = subtitle.replace(/Ryft/gi, "");

                // Cleanup double spaces that might result from removal
                title = title.replace(/\s\s+/g, ' ').trim();
                subtitle = subtitle.replace(/\s\s+/g, ' ').trim();

                // Generate Images HTML
                const imagesHtml = project.images.map(imgUrl => `
                    <div class="gallery-item">
                        <div class="skeleton-loader"></div>
                        <img data-src="${imgUrl}" class="gallery-img">
                    </div>
                `).join('');

                // Build Full Section HTML
                section.innerHTML = `
                    <div class="project-header">
                        <div>
                            <h2 class="text-3xl md:text-5xl text-white font-heading mb-1">${title}</h2>
                            <p class="text-muted text-lg tracking-wide">${subtitle}</p>
                        </div>
                    </div>
                    <div class="ticker-view">
                        <div class="ticker-track">
                            ${imagesHtml}
                        </div>
                    </div>
                `;

                galleryContainer.appendChild(section);
            });

            // --- RENDER MIXED BAG SECTION ---
            if (mixedBagImages.length > 0) {
                const section = document.createElement('section');
                section.className = 'project-section';
                section.setAttribute('data-speed', "0.4"); 

                const imagesHtml = mixedBagImages.map(imgUrl => `
                    <div class="gallery-item">
                        <div class="skeleton-loader"></div>
                        <img data-src="${imgUrl}" class="gallery-img">
                    </div>
                `).join('');

                section.innerHTML = `
                    <div class="project-header">
                        <div>
                            <h2 class="text-3xl md:text-5xl text-white font-heading mb-1">Mixed Gallery</h2>
                            <p class="text-muted text-lg tracking-wide">Recent Works & Quick Snaps</p>
                        </div>
                    </div>
                    <div class="ticker-view">
                        <div class="ticker-track">
                            ${imagesHtml}
                        </div>
                    </div>
                `;
                galleryContainer.appendChild(section);
            }
        }

        // --- ANIMATION & INTERACTION LOGIC ---
        function startAnimations() {
            const sections = document.querySelectorAll('.project-section');

            // --- DYNAMIC DUPLICATION LOGIC ---
            // Duplicates images until they fill screen width for smooth looping
            sections.forEach(section => {
                const track = section.querySelector('.ticker-track');
                if (!track) return;
                
                const originalItems = Array.from(track.children);
                if (originalItems.length === 0) return;
                
                // Calculate how many clones we need
                const clonesNeeded = window.innerWidth < 768 ? 4 : 3; 

                // Append duplicates
                for (let i = 0; i < clonesNeeded; i++) {
                    originalItems.forEach(item => {
                        const clone = item.cloneNode(true);
                        track.appendChild(clone);
                    });
                }
            });

            // --- LAZY LOADING & SKELETONS ---
            const imgObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.onload = () => {
                            img.classList.add('loaded');
                            // Hide skeleton
                            const skeleton = img.previousElementSibling;
                            if(skeleton && skeleton.classList.contains('skeleton-loader')) {
                                skeleton.style.display = 'none';
                            }
                        };
                        observer.unobserve(img);
                    }
                });
            }, { rootMargin: "300px" });

            document.querySelectorAll('img[data-src]').forEach(img => imgObserver.observe(img));

            // --- TICKER ANIMATION ---
            const tickers = document.querySelectorAll('.ticker-view');
            
            const visibilityObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    entry.target._isVisible = entry.isIntersecting;
                });
            }, { threshold: 0 });

            tickers.forEach(view => {
                const track = view.querySelector('.ticker-track');
                if (!track) return;

                const baseSpeed = parseFloat(view.parentElement.dataset.speed) || 0.5;
                
                // State
                view._isVisible = false;
                visibilityObserver.observe(view);

                let pos = 0;
                let currentSpeed = baseSpeed;
                let isHovered = false;
                let isDragging = false;
                let startX = 0;
                let lastX = 0;

                // Width calculation
                let trackWidth = track.scrollWidth;
                
                // Re-calc on resize
                window.addEventListener('resize', () => {
                    trackWidth = track.scrollWidth;
                });

                // Animation Loop
                function animate() {
                    if (view._isVisible && !isDragging) {
                        // Smoothly interpolate speed back to base if not hovering
                        if (!isHovered) {
                            currentSpeed += (baseSpeed - currentSpeed) * 0.05;
                        } else {
                            // Slow down on hover
                            currentSpeed += (0 - currentSpeed) * 0.1;
                        }

                        pos -= currentSpeed;

                        const wrapPoint = trackWidth / 2; // Approximate wrap point based on duplication
                        
                        if (baseSpeed > 0) {
                            if (pos <= -wrapPoint) pos = 0;
                        } else {
                            if (pos >= 0) pos = -wrapPoint;
                        }
                        
                        track.style.transform = `translate3d(${pos}px, 0, 0)`;
                    }
                    requestAnimationFrame(animate);
                }
                requestAnimationFrame(animate);

                // --- INTERACTIONS ---
                
                // Hover
                view.addEventListener('mouseenter', () => isHovered = true);
                view.addEventListener('mouseleave', () => {
                    isHovered = false;
                    isDragging = false;
                });

                // Touch/Drag Logic
                const handleDragStart = (e) => {
                    isDragging = true;
                    startX = e.pageX || e.touches[0].pageX;
                    lastX = startX;
                };

                const handleDragMove = (e) => {
                    if (!isDragging) return;
                    e.preventDefault(); 
                    const x = e.pageX || e.touches[0].pageX;
                    const diff = x - lastX;
                    pos += diff;
                    lastX = x;
                    track.style.transform = `translate3d(${pos}px, 0, 0)`;
                };

                const handleDragEnd = () => {
                    isDragging = false;
                };

                view.addEventListener('mousedown', handleDragStart);
                view.addEventListener('touchstart', handleDragStart, {passive: false});
                
                window.addEventListener('mousemove', handleDragMove);
                window.addEventListener('touchmove', handleDragMove, {passive: false});
                
                window.addEventListener('mouseup', handleDragEnd);
                window.addEventListener('touchend', handleDragEnd);
            });

            // --- LIGHTBOX CLICK HANDLER FOR DYNAMIC ELEMENTS ---
            document.querySelectorAll('.ticker-track').forEach(track => {
                track.addEventListener('click', (e) => {
                    if (e.target.classList.contains('gallery-img')) {
                        // Attempt to find a high-res version if applicable, 
                        // otherwise use the source.
                        // Assuming the provided JSON URLs are already good or can be manipulated:
                        // e.g. replacing '800x800' with '1600x1600' if that pattern exists.
                        // For now we just use the source.
                        const highRes = e.target.src; 
                        lightboxImg.src = highRes;
                        lightbox.classList.add('active');
                    }
                });
            });
        }

        // --- LIGHTBOX GLOBAL HANDLERS ---
        const closeLightbox = () => lightbox.classList.remove('active');
        lightboxClose.addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLightbox();
        });

        // Initialize
        initGallery();
    });
    </script>
</body>
</html>
