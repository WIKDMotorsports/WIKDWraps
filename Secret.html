<!DOCTYPE html>
<html class="js" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <title>WIKDWRAPS - Exclusive Offer</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <script src="https://animatedicons.co/scripts/embed-animated-icons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>

    <style>
        :root {
            --color-background: #0A0A0A;
            --color-text: #EAEAEA;
            --color-text-muted: #888888;
            --color-primary: #FF3B30; /* Your signature red/orange */
            --color-surface: #141414;
            --color-border: #2A2A2A;
            --font-heading: 'Rajdhani', sans-serif;
            --font-body: 'Inter', sans-serif;
            --car-mask-url: url('https://cdn.shopify.com/s/files/1/0671/4635/0805/files/image_24.png?v=1764085690');
            --tint-mask-url: url('https://cdn.shopify.com/s/files/1/0671/4635/0805/files/SUV_Tint.png?v=1762888396'); /* Base for the Tint Masking */
        }

        /* --- GLOBAL & BASE STYLES from reference --- */
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--color-background) !important;
            color: var(--color-text) !important;
            font-family: var(--font-body) !important;
            overflow-x: hidden;
            position: relative;
        }
        /* Noise overlay - THE GABAGOO! (Remains fixed to entire viewport) */
        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 9999; opacity: 0.08;
            background-size: 100px 100px;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }
        
        .font-heading { font-family: var(--font-heading); }
        h1, h2, h3, .h1, .h2, .h3 {
            font-family: var(--font-heading) !important; font-weight: 700 !important; line-height: 1.2 !important;
            text-transform: uppercase !important; color: white !important;
        }
        .h1 { font-size: clamp(2.5rem, 6vw, 4rem); }
        .btn {
            display: inline-block; padding: 14px 32px; font-family: var(--font-heading) !important;
            font-size: 18px; font-weight: 600; text-transform: uppercase;
            color: var(--color-text) !important; background-color: transparent;
            border: 2px solid var(--color-border); position: relative; overflow: hidden;
            transition: color 0.4s ease-in-out, border-color 0.4s ease-in-out, transform 0.3s ease;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 10px 100%, 0 85%); text-decoration: none;
            cursor: pointer;
        }
        .btn span { position: relative; z-index: 2; }
        .btn::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; transform: translateX(-101%);
            transition: transform 0.5s cubic-bezier(0.7, 0, 0.3, 1);
        }
        .btn:hover { color: white !important; transform: translateY(-3px); }
        .btn:hover::before { transform: translateX(0); }
        .btn.btn-primary { border-color: var(--color-primary); }
        .btn.btn-primary::before { background-color: var(--color-primary); }

        /* --- INTRO SEQUENCE SPECIFIC STYLES --- */

        /* Full-screen overlay for the intro sequence */
        #intro-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background-color: var(--color-background);
            z-index: 99999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 1s ease-out;
        }

        /* Generic Center Content Styles */
        .intro-content {
            text-align: center;
            max-width: 1200px; 
            width: 92%; 
            padding: 1rem;
            position: relative; 
            height: 100%; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* Lock Stage - Starts centered, transparent, scaled down */
        #stage-1-lock {
             position: absolute;
             top: 50%;
             left: 50%;
             /* Lower initial scale as requested: 0.3 */
             transform: translate(-50%, -50%) scale(0.3); 
             opacity: 0;
             transition: opacity 0.5s ease-out, transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
             z-index: 20; /* Ensure lock is on top */
        }
        
        /* State 1: Lock Scale In/Fade In */
        #stage-1-lock.fade-in {
             opacity: 1;
             transform: translate(-50%, -50%) scale(1);
        }
        
        /* State 2: Push Out (Scale up/Fade out) */
        #stage-1-lock.fade-out {
            opacity: 0 !important;
            transform: translate(-50%, -50%) scale(1.5) !important;
            /* REVERTED: Fade duration set back to 0.2s, scaling remains 0.375s */
            transition: opacity 0.2s ease-out, transform 0.375s ease-out !important;
        }

        /* Message Text Final Title Styling (New Target State) */
        #message-text {
            /* Positioning for Top/Center Title */
            position: absolute; 
            top: 5%; 
            left: 50%;
            transform: translateX(-50%);
            
            /* Visual Styles */
            font-size: clamp(1.2rem, 3vw, 1.8rem); /* Small Title size */
            line-height: 1.1;
            margin: 0;
            z-index: 15;
            max-width: 80%;
            
            /* Guaranteed Hidden State */
            display: none; 
            opacity: 0; 
            
            /* Transition for simple fade-in */
            transition: opacity 0.5s ease-in;
        }
        
        /* State 3: Message Fade In */
        #message-text.active {
            opacity: 1;
        }
        
        /* Stage 3 Content Position - Code and buttons */
        #stage-3-code {
            opacity: 0; 
            position: absolute;
            top: 20%; 
            width: 100%;
            height: 80%; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; 
            gap: 2rem;
            transition: opacity 0.5s ease-in; 
            z-index: 10;
        }
        
        #stage-3-code.active {
            opacity: 1;
        }
        
        /* New: Composite video layer for intro sequence, using the tint mask */
        .intro-composite-video {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%; z-index: 2;
            object-fit: fill; pointer-events: none; mix-blend-mode: screen;
            /* Use the dedicated tint mask variable */
            -webkit-mask-image: var(--tint-mask-url); mask-image: var(--tint-mask-url);
            -webkit-mask-size: 100% 100%; mask-size: 100% 100%;
            -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
            -webkit-mask-position: center; mask-position: center;
        }
        

        /* Code display styling */
        .quantum-code-display {
            font-family: monospace;
            font-size: clamp(0.75rem, 4vw, 1.25rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            color: var(--color-primary);
            text-shadow: 0 0 5px rgba(255, 59, 48, 0.5);
            min-height: 1.5rem; /* Ensure space during scramble */
        }
        
        /* Individual character animation for sequential reveal/wave */
        .code-char {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.2s ease-out, transform 0.2s cubic-bezier(0.1, 1, 0.2, 1);
            line-height: 1; /* Prevent jumping */
        }
        .code-char.reveal {
            opacity: 1;
            transform: translateY(0);
        }

        /* Final content fade-in */
        .final-step-item {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        /* --- HERO SECTION OVERRIDE TO PREVENT FULL WIDTH --- */
        .hero {
            width: 100%; 
            max-width: none !important;
        }

        /* --- GLOBAL CONTENT CONSTRAINT WRAPPER --- */
        #site-content-wrapper {
            width: 92%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        .wikd-footer-container {
             width: 100%;
             max-width: 1200px;
             margin: 0 auto;
        }
    </style>
</head>

<body class="gradient">
    <!-- --- START: UNLOCK SEQUENCE OVERLAY (REMAINS FULL SCREEN) --- -->
    <div id="intro-overlay">
        <div class="intro-content">

            <!-- Stage 1: Lock Icon -->
            <div id="stage-1-lock">
                <div id="lock-icon-container">
                    <animated-icons
                        src="https://animatedicons.co/get-icon?name=lock&style=minimalistic&token=97ae0ebf-896b-47c4-9538-d143a34f7b43"
                        trigger="loop" 
                        attributes='{"variationThumbColour":"#536DFE","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#EAEAEA","group-2":"#FF3B30","background":"#0A0A0A"}}'
                        height="200"
                        width="200"
                    ></animated-icons>
                </div>
            </div>

            <!-- Stage 2: Congratulations Message (Now serves as the final title, fades in at the top) -->
            <p id="message-text" class="h1 text-white tracking-widest leading-tight">
                Congratulations, you've unlocked 10% off your next service with us!
            </p>

            <!-- Stage 3: Code Generation and Final CTA -->
            <div id="stage-3-code">
                <!-- Content Section Below the Title -->
                <div class="w-full max-w-sm flex flex-col items-center">
                    
                    <!-- NEW COMPOSITE TINT STACK INSERTED HERE (transition-delay: 0s) -->
                    <div id="intro-composite-tint" class="final-step-item w-full" style="transition-delay: 0s; max-width: 300px; margin-bottom: 2rem;">
                        <div class="relative w-full">
                            <!-- Base Image (Used for masking and defining size) -->
                            <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/image_25.png?v=1764095964" alt="SUV Base" class="w-full h-auto opacity-100 relative z-10">
                            
                            <!-- Video Overlay 1 (Blend Mode Screen, Masked by Base Image) -->
                            <video src="https://cdn.shopify.com/videos/c/o/v/1de593a438f4430fa82c341cd5da5903.mp4" autoplay loop muted playsinline class="intro-composite-video" id="intro-video-1"></video>
                            
                            <!-- Video Overlay 2 (Blend Mode Screen, Masked by Base Image) -->
                            <video src="https://cdn.shopify.com/videos/c/o/v/0e09468d513a4949916b2d6b0f5f62cf.mp4" autoplay loop muted playsinline class="intro-composite-video" id="intro-video-2"></video>
                        </div>
                    </div>
                    <!-- END NEW COMPOSITE TINT STACK -->


                    <div class="mt-8 w-full">
                        <p class="text-white text-lg font-heading uppercase final-step-item" style="transition-delay: 0.2s;">
                            Your exclusive code is:
                        </p>
                        <div id="code-display" class="quantum-code-display mt-2 p-2 rounded bg-gray-900/50">
                            <!-- Code Scrambles Here -->
                        </div>
                        <p class="text-xs font-body mt-1 final-step-item text-gray-500" style="transition-delay: 0.3s;">
                            &mdash; Exclusive Digital Code &mdash;
                        </p>
                    </div>
                    
                    <!-- Final CTA -->
                    <p class="text-base text-white font-heading uppercase mt-12 final-step-item" style="transition-delay: 0.4s;">
                        Screenshot this page to redeem at checkout!
                    </p>

                    <!-- Forced Single Column Button Layout on all sizes -->
                    <div class="flex flex-col gap-4 mt-8 final-step-item w-full" style="transition-delay: 0.5s;">
                        <a href="https://wikdwraps.com/pages/estimate-configurator" class="btn btn-primary w-full">
                            <span>Get Estimate</span>
                        </a>
                        <a href="https://wikdwraps.com/pages/our-services" class="btn w-full">
                            <span>Our Services</span>
                        </a>
                        <a href="https://wikdwraps.com/pages/contact" class="btn w-full">
                            <span>Contact Us</span>
                        </a>
                    </div>
                </div>

                <!-- Close Button positioned absolutely at the very bottom of the page, outside the content flow -->
                <button id="close-overlay-btn" class="btn btn-primary absolute bottom-10" style="display: none;">
                    <span>Continue to Site</span>
                </button>
            </div>
            
        </div>
    </div>
    <!-- --- END: UNLOCK SEQUENCE OVERLAY --- -->
    
    <!-- The user's original page content, wrapped and initially hidden -->
    <div id="main-app-content" style="opacity: 0; transition: opacity 0.5s ease-in-out;">
        
        <!-- WRAPPER: Enforces middle constraint on all sections -->
        <div id="site-content-wrapper">

            <!-- START: ORIGINAL CONTENT PROVIDED BY USER -->
            <main id="MainContent" class="content-for-layout focus-none" role="main" tabindex="-1">
                <section id="shopify-section-template--20779275780301__custom_liquid_TPCGPH" class="shopify-section section"><style data-shopify="">.section-template--20779275780301__custom_liquid_TPCGPH-padding {
                     padding-top: calc(0px * 0.75);
                     padding-bottom: calc(0px  * 0.75);
                  }
                
                  @media screen and (min-width: 750px) {
                    .section-template--20779275780301__custom_liquid_TPCGPH-padding {
                      padding-top: 0px;
                      padding-bottom: 0px;
                    }
                  }</style><div class="color-background-1 gradient">
                  <div class="section-template--20779275780301__custom_liquid_TPCGPH-padding">
                    
                    <style>
                        /* [Existing CSS for Hero/CTA/Buttons omitted for brevity, but all included in final file] */
                        .hero * { box-sizing: border-box; }
                        .hero { 
                            height: 100vh; min-height: 100vh; 
                            width: 100%; 
                            position: relative; display: flex; align-items: center; overflow: hidden; 
                        }
                        .hero-bg-wrapper { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }
                        .fade-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out; pointer-events: none; }
                        .fade-image.active { opacity: 1; }
                        .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.4); z-index: 1; pointer-events: none; }
                        .hero-content { width: 92%; max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; justify-content: center; padding-top: 3rem; padding-bottom: 3rem; position: relative; z-index: 2; }
                        .hero-text-wrapper { max-width: 100%; }
                        @media (min-width: 768px) { .hero-text-wrapper { max-width: 60%; } }
                        .badge { background: #c62828; color: white; padding: 0.75rem 1.5rem; font-weight: 700; display: inline-block; margin-bottom: 2rem; font-size: 0.95rem; letter-spacing: 0.5px; }
                        .hero h1 { color: white; font-size: 4rem; font-weight: 900; line-height: 1.1; margin-bottom: 3rem; text-transform: uppercase; letter-spacing: -1px; }
                        .cta-buttons { display: grid; grid-template-columns: auto auto; grid-template-rows: auto auto; gap: 1.5rem; width: fit-content; }
                        .hero .btn:nth-child(3) { grid-column: 1 / -1; }
                        .arrow { font-size: 1.5rem; transition: transform 0.3s; }
                        .hero .btn:hover .arrow { transform: translateX(5px); }
                        @media (max-width: 768px) { .hero { height: 85vh; min-height: 85vh; } .hero h1 { font-size: 2.5rem; } .cta-buttons { grid-template-columns: 1fr; grid-template-rows: auto auto auto; } .hero .btn:nth-child(3) { grid-column: 1; } }
                        .lava-text { background: linear-gradient(90deg, #ff7f00, #ff4500, #ff3b30, #ff4500, #ff7f00); background-size: 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: lavaFlow 4s ease-in-out infinite; font-weight: 600; }
                        @keyframes lavaFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
                        .mobile-scaled-container { width: 92%; max-width: 1200px; margin-left: auto; margin-right: auto; }
                        .wikd-card { border: 1px solid var(--color-border); padding: 1.5rem; display: flex; flex-direction: column; height: 100%; border-radius: 0px; background: transparent; transition: border-color 0.3s ease, transform 0.3s ease; }
                        .wikd-card:hover { border-color: var(--color-primary); transform: translateY(-5px); }
                        /* --- WIKD GALLERY CARD --- */
                        @keyframes lavaFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
                        .gallery-card-wrapper { max-width: 380px; width: 100%; perspective: 1000px; }
                        .gallery-card { display: block; position: relative; aspect-ratio: 1 / 1; border-radius: 0px; border: 1px solid var(--color-border); text-decoration: none; isolation: isolate; transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.4s ease, border-color 0.4s ease; transform-style: preserve-3d; }
                        .gallery-card-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%); transition: transform 0.6s cubic-bezier(0.3, 1, 0.4, 1), filter 0.6s ease; }
                        .gallery-card:hover .gallery-card-bg, .package-card:hover .package-card-bg, .package-card.mobile-view .package-card-bg { filter: grayscale(0%) contrast(100%); }
                        .package-card { position: relative; aspect-ratio: 4 / 5; overflow: hidden; border-radius: 0px; border: 1px solid var(--color-border); transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease; display: block; }
                        .package-card:hover, .package-card.mobile-view { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.3), 0 0 15px rgba(255, 59, 48, 0.3); border-color: var(--color-primary); }
                        .package-card-bg { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%) contrast(110%); transition: transform 0.5s ease, filter 0.5s ease; }
                        .package-card-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, transparent 60%); display: flex; flex-direction: column; justify-content: flex-end; padding: 20px; }
                        .package-card-content { transform: translateY(0); opacity: 1; transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex; flex-direction: column; gap: 0; }
                        .package-card-title { font-family: var(--font-heading); font-size: 1.5rem; color: white; text-transform: uppercase; margin-bottom: 0; transition: margin-bottom 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); }
                        .package-card-description { color: var(--color-text-muted); font-size: 0.875rem; line-height: 1.4; max-height: 0; opacity: 0; overflow: hidden; transform: translateY(10px); margin-bottom: 0; transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); }
                        .package-card-link { font-size: 0.875rem; color: var(--color-primary); text-transform: uppercase; font-weight: 600; text-decoration: none; max-height: 0; opacity: 0; overflow: hidden; transform: translateY(10px); transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); }
                        .package-card:hover .package-card-title, .package-card.mobile-view .package-card-title { margin-bottom: 0.5rem; }
                        .package-card:hover .package-card-description, .package-card.mobile-view .package-card-description { max-height: 100px; opacity: 1; transform: translateY(0); margin-bottom: 0.75rem; }
                        .package-card:hover .package-card-link, .package-card.mobile-view .package-card-link { max-height: 24px; opacity: 1; transform: translateY(0); }
                        /* --- FOOTER STYLES --- */
                        .wikd-footer { background-color: var(--color-surface, #141414); border-top: 1px solid var(--color-border, #2A2A2A); padding: 4rem 0 2rem; font-family: var(--font-body, 'Inter', sans-serif); }
                        .wikd-footer-container { width: 92%; max-width: 1200px; margin: 0 auto; }
                        .wikd-footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 3rem; margin-bottom: 3rem; }
                        .wikd-footer-brand { display: flex; flex-direction: column; gap: 1rem; }
                        .wikd-footer-logo { width: 180px; height: auto; }
                        .wikd-footer-tagline { color: var(--color-text-muted, #888888); font-size: 0.95rem; line-height: 1.6; max-width: 300px; }
                        .wikd-footer-social { display: flex; gap: 1rem; margin-top: 1rem; }
                        .wikd-footer-social-link { width: 40px; height: 40px; border-radius: 50%; background: var(--color-background, #0A0A0A); border: 1px solid var(--color-border, #2A2A2A); display: flex; align-items: center; justify-content: center; color: var(--color-text, #EAEAEA); transition: all 0.3s ease; text-decoration: none; font-size: 1.2rem; }
                        .wikd-footer-social-link:hover { background: var(--color-primary, #FF3B30); border-color: var(--color-primary, #FF3B30); transform: translateY(-3px); }
                        .wikd-footer-column h3 { font-family: var(--font-heading, 'Rajdhani', sans-serif); font-size: 1.1rem; font-weight: 700; color: white; text-transform: uppercase; margin-bottom: 1.25rem; letter-spacing: 0.5px; }
                        .wikd-footer-links { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 0.75rem; }
                        .wikd-footer-links a { color: var(--color-text-muted, #888888); text-decoration: none; font-size: 0.95rem; transition: all 0.3s ease; display: inline-block; }
                        .wikd-footer-links a:hover { color: var(--color-primary, #FF3B30); transform: translateX(5px); }
                        .wikd-footer-bottom { border-top: 1px solid var(--color-border, #2A2A2A); padding-top: 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
                        .wikd-footer-copyright { color: var(--color-text-muted, #888888); font-size: 0.875rem; }
                        .wikd-footer-copyright a { color: var(--color-primary, #FF3B30); text-decoration: none; font-weight: 600; transition: opacity 0.3s ease; }
                        .wikd-footer-copyright a:hover { opacity: 0.8; }
                        .wikd-footer-legal { display: flex; gap: 1.5rem; flex-wrap: wrap; }
                        .wikd-footer-legal a { color: var(--color-text-muted, #888888); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease; }
                        .wikd-footer-legal a:hover { color: var(--color-primary, #FF3B30); }
                        @media (max-width: 992px) { .wikd-footer-grid { grid-template-columns: 1fr 1fr; gap: 2.5rem; } .wikd-footer-brand { grid-column: 1 / -1; } }
                        @media (max-width: 640px) { .wikd-footer { padding: 3rem 0 1.5rem; } .wikd-footer-grid { grid-template-columns: 1fr; gap: 2rem; } .wikd-footer-bottom { flex-direction: column; text-align: center; } .wikd-footer-legal { justify-content: center; } }
                        /* Star rating styles */
                        .star-container-fade-in { opacity: 0; animation: fadeIn 0.5s cubic-bezier(0.1, 1.2, 0, 1) forwards; }
                        .star-glow-pulse { animation: pulseGlow 3s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite; }
                        .star-gradient-pulse { --center-opacity: 0.7; animation: pulseGradient 3s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite; }
                        @keyframes fadeIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
                        @keyframes pulseGlow { 0%, 100% { filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.7)); } 50% { filter: drop-shadow(0 0 8px rgba(251, 191, 36, 1)); } }
                        @keyframes pulseGradient { 0%, 100% { --center-opacity: 0.7; } 50% { --center-opacity: 1; } }
                        .glint-wrapper { position: absolute; top: 0; left: 0; width: 100%; height: 100%; -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>'); mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>'); -webkit-mask-size: contain; mask-size: contain; -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat; -webkit-mask-position: center; mask-position: center; }
                        .glint-wrapper::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(115deg, transparent 40%, rgba(255, 255, 255, 0.6) 50%, transparent 60%); background-size: 200% 100%; background-position: 200% 0; animation: glintWipe 5s infinite; animation-delay: var(--glint-delay, 0s); }
                        @keyframes glintWipe { 0% { background-position: 200% 0; } 5% { background-position: 200% 0; } 25% { background-position: -200% 0; } 100% { background-position: -200% 0; } }
                    </style>
                
                    <!-- Hero Section -->
                    <section class="hero">
                        <div id="hero-bg-container" class="hero-bg-wrapper">
                              <!-- Images inserted here by JS -->
                        </div>
                        <div class="hero-overlay"></div>
                        <div class="hero-content">
                            <div class="hero-text-wrapper">
                                <div class="badge">TOP PPF &amp; COATING SPECIALISTS IN MCKINNEY TX</div>
                                <h1>Paint Protection Solutions From The Best Name In Custom Performance</h1>
                                <div class="cta-buttons">
                                    <a href="#services-section" class="btn btn-primary">
                                        <span>Explore Services</span>
                                    </a>
                                    <a href="https://wikdwraps.com/pages/estimate-configurator" class="btn btn-secondary">
                                        <span>Instant Quote Tool</span>
                                    </a>
                                    <a href="https://wikdwraps.com/pages/contact" class="btn btn-tertiary">
                                        <span>Reserve Your Spot</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                  </div>
                </div>
                </section>
                
                <!-- PREMIER SERVICES SECTION -->
                <section id="services-section" class="py-20" style="background-color: var(--color-background);">
                    <div class="mobile-scaled-container">
                        <div class="text-center mb-10">
                            <h2 class="h2">Our Premier Services</h2>
                            <p class="p-muted max-w-3xl mx-auto mt-2">Your car deserves elite protection and precision styling. Our industry-leading films and coatings deliver unmatched durability, striking visuals, and a finish tailored to your vision.</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- PPF Card -->
                            <a href="https://wikdwraps.com/pages/paint-protection-film" class="package-card">
                                <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Satin_PPF_Wrapped_Black_and_Green_Lamborghini_Huracan_STO_Freshly_Detailed.jpg?v=1743435243" alt="Lamborghini Huracan STO with Satin PPF" class="package-card-bg">
                                <div class="package-card-overlay">
                                    <div class="package-card-content flex flex-col">
                                        <h3 class="package-card-title text-2xl">Paint Protection Film</h3>
                                        <p class="package-card-description text-sm leading-snug">Absorb impacts and resist rock chips with invisible, self-healing defense.</p>
                                        <span class="package-card-link">Learn More &rarr;</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Ceramic Coatings Card -->
                            <a href="https://wikdwraps.com/pages/ceramic-coatings" class="package-card">
                                <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Blue_and_White_Stripe_2006_Ford_GT_Ford_GT40_Detailed_and_Ceramic_Coated.jpg?v=1743434907" alt="Ford GT with Ceramic Coating" class="package-card-bg">
                                <div class="package-card-overlay">
                                    <div class="package-card-content flex flex-col">
                                        <h3 class="package-card-title text-2xl">Ceramic Coatings</h3>
                                        <p class="package-card-description text-sm leading-snug">Ultra-durable protection for a deep, mirror-like, hydrophobic gloss.</p>
                                        <span class="package-card-link">Learn More &rarr;</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Vinyl Wraps Card -->
                            <a href="https://wikdwraps.com/pages/vinyl-wraps" class="package-card">
                                <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Black_Ford_F450_Platinum_Powerstroke_Dually_Chrome_Delete.jpg?v=1744062595" alt="Ford F450 with a custom vinyl wrap" class="package-card-bg">
                                <div class="package-card-overlay">
                                    <div class="package-card-content flex flex-col">
                                        <h3 class="package-card-title text-2xl">Vinyl Wraps</h3>
                                         <p class="package-card-description text-sm leading-snug">Transform your vehicle with endless customization and paint protection.</p>
                                        <span class="package-card-link">Learn More &rarr;</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Detailing Card -->
                            <a href="https://wikdwraps.com/pages/detailing" class="package-card">
                                <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/IMG_5156_f16f1bb4-c32d-4e4a-89d3-47cd61d28c72.jpg?v=1742478458" alt="Professional auto detailing" class="package-card-bg">
                                <div class="package-card-overlay">
                                    <div class="package-card-content flex flex-col">
                                        <h3 class="package-card-title text-2xl">Automotive Detailing</h3>
                                        <p class="package-card-description text-sm leading-snug">Meticulous interior and exterior restoration for a showroom finish.</p>
                                        <span class="package-card-link">Learn More &rarr;</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Nano-Ceramic Tint Card -->
                            <a href="https://wikdwraps.com/pages/window-tint" class="package-card">
                                <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Clean_Ryft_Black_McLaren_720s_HRE_Wheels_WIKD_Exhaust.jpg?v=1744062478" alt="McLaren 720s with Nano-Ceramic Tint" class="package-card-bg">
                                <div class="package-card-overlay">
                                    <div class="package-card-content flex flex-col">
                                         <h3 class="package-card-title text-2xl">Nano-Ceramic Tint</h3>
                                        <p class="package-card-description text-sm leading-snug">Industry-leading heat rejection, UV protection, and privacy.</p>
                                        <span class="package-card-link">Learn More &rarr;</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Maintenance Card -->
                            <a href="https://wikdwraps.com/pages/maintenance-plans" class="package-card">
                                <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Black_Lamborghini_Urus_Interior_Detail.jpg?v=1744062916" alt="Interior of a Lamborghini Urus after detailing" class="package-card-bg">
                                <div class="package-card-overlay">
                                     <div class="package-card-content flex flex-col">
                                        <h3 class="package-card-title text-2xl">Maintenance Plans</h3>
                                        <p class="package-card-description text-sm leading-snug">Keep your vehicle flawless year-round with our exclusive member plans.</p>
                                        <span class="package-card-link">Learn More &rarr;</span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </section>
                
                <!-- THE WIKD DIFFERENCE SECTION -->
                <section id="difference-section" class="py-20" style="background-color: var(--color-surface);">
                    <div class="mobile-scaled-container">
                        <div class="text-center mb-10">
                            <h2 class="h2">The WIKD Difference</h2>
                             <p class="p-muted max-w-2xl mx-auto mt-2">We combine world-class craftsmanship with industry-leading materials to deliver results that speak for themselves.</p>
                        </div>
                        <!-- GEOMETRY UPDATE: Using uniform .wikd-card class -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                            <div class="wikd-card">
                                <div class="flex justify-center items-center mb-2">
                                    <animated-icons
                                        src="https://animatedicons.co/get-icon?name=Reliable&style=minimalistic&token=27a30965-9fd9-4579-acc0-b9c372561841"
                                        trigger="loop"
                                        attributes='{"variationThumbColour":"#FF3B30","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#EAEAEA","group-2":"#FF3B30","background":"#141414"}}'
                                        height="100"
                                        width="100"
                                    ></animated-icons>
                                </div>
                                <h3 class="h3 text-2xl mb-1">Craftsmanship You Can Trust</h3>
                                <p class="p-muted text-sm leading-snug">Our expert technicians are factory-certified installers known for their precision and attention to detail. We treat every vehicle as if it were our own, ensuring flawless results every time.</p>
                            </div>
                            <div class="wikd-card">
                                <div class="flex justify-center items-center mb-2">
                                    <animated-icons
                                        src="https://animatedicons.co/get-icon?name=Chemist&style=minimalistic&token=153ce80d-3f45-4dc6-b13a-40ea011dbbfe"
                                        trigger="loop"
                                        attributes='{"variationThumbColour":"#FF3B30","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#EAEAEA","group-2":"#FF3B30","background":"#141414"}}'
                                        height="100"
                                        width="100"
                                    ></animated-icons>
                                </div>
                                <h3 class="h3 text-2xl mb-1">Industry Leading Materials</h3>
                                <p class="p-muted text-sm leading-snug">Weâ€™ve partnered with top-tier brands like STEK to provide the best durability, clarity, and performance for your vehicle. We don't compromise on quality.</p>
                            </div>
                            <div class="wikd-card">
                                <div class="flex justify-center items-center mb-2">
                                    <animated-icons
                                        src="https://animatedicons.co/get-icon?name=edit&style=minimalistic&token=bef79568-d828-4e67-a904-60a1bb446375"
                                        trigger="loop"
                                        attributes='{"variationThumbColour":"#FF3B30","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#EAEAEA","group-2":"#FF3B30","background":"#141414"}}'
                                        height="100"
                                        width="100"
                                    ></animated-icons>
                                </div>
                                <h3 class="h3 text-2xl mb-1">Bespoke Solutions</h3>
                                <p class="p-muted text-sm leading-snug">From exotics to daily drivers, we offer customized protection plans to fit your needs and budget. Your vision is our blueprint for a perfect finish.</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- GALLERY SECTION -->
                <section id="gallery-section" class="py-20" style="background-color: var(--color-background);">
                    <div class="mobile-scaled-container">
                        <div class="text-center mb-10">
                            <h2 class="h2">From Showroom to Showstopper</h2>
                            <p class="p-muted max-w-2xl mx-auto mt-2">Explore our gallery of recent projects and see the WIKD difference for yourself. Your vision is our mission.</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center">
                             <div class="gallery-card-wrapper">
                                 <a href="https://wikdwraps.com/pages/gallery" class="gallery-card">
                                      <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Black_Lamborghini_Urus_Paint_Correction_and_Rock_Chip_Repair.jpg?v=1744062951" class="gallery-card-bg" alt="Lamborghini Urus">
                                      <div class="gallery-card-overlay">
                                          <div class="card-badge-container">
                                               <div class="wikd-sub-badge">PPF Repair &amp; Detail</div>
                                          </div>
                                          <div class="gallery-card-title-block">
                                               <h3 class="gallery-card-title text-2xl">2018 Lamborghini Urus</h3>
                                          </div>
                                      </div>
                                 </a>
                             </div>
                             <div class="gallery-card-wrapper">
                                 <a href="https://wikdwraps.com/pages/gallery" class="gallery-card">
                                      <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/IMG_1919.jpg?v=1741643606" class="gallery-card-bg" alt="Cadillac CT5 V Blackwing">
                                      <div class="gallery-card-overlay">
                                          <div class="card-badge-container">
                                               <div class="wikd-sub-badge">Exterior Detail</div>
                                          </div>
                                          <div class="gallery-card-title-block">
                                               <h3 class="gallery-card-title text-2xl">2024 Cadillac CT5 V Blackwing</h3>
                                          </div>
                                      </div>
                                 </a>
                             </div>
                              <div class="gallery-card-wrapper">
                                 <a href="https://wikdwraps.com/pages/gallery" class="gallery-card">
                                      <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/Black_Ford_F450_Platinum_Powerstroke_Dually_Chrome_Delete.jpg?v=1744062595" class="gallery-card-bg" alt="Ford F450 Platinum">
                                      <div class="gallery-card-overlay">
                                          <div class="card-badge-container">
                                             <div class="wikd-sub-badge">Chrome Delete</div>
                                          </div>
                                          <div class="gallery-card-title-block">
                                               <h3 class="gallery-card-title text-2xl">2024 Ford F450 Platinum</h3>
                                          </div>
                                      </div>
                                 </a>
                              </div>
                        </div>
                        <!-- UPDATED SPACING AND BUTTON STYLE -->
                        <div class="text-center mt-16">
                            <a class="btn btn-primary" href="https://wikdwraps.com/pages/gallery">
                                 <span>Explore Full Gallery</span>
                            </a>
                        </div>
                    </div>
                </section>
                
                <!-- LOCATIONS SECTION -->
                <section id="locations-section" class="py-20" style="background-color: var(--color-surface);">
                    <div class="mobile-scaled-container">
                        <div class="text-center mb-10">
                            <h2 class="h2">Your Nearest WIKD Locations</h2>
                        </div>
                           <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- WIKD WRAPS CARD - GEOMETRY UPDATE: Using .wikd-card for consistency -->
                            <div class="wikd-card">
                                <h3 class="h3 text-2xl text-center md:text-left">WIKD Wraps</h3>
                                <div class="flex items-center gap-3 my-2 justify-center md:justify-start min-h-[28px]">
                                    <span id="status-line-pbw" class="text-sm font-semibold"></span>
                                    <div id="hours-toggle-wrapper-pbw" class="relative">
                                         <div id="hours-dropdown-toggle-pbw" class="cursor-pointer text-sm font-semibold text-gray-400 hover:text-white transition duration-200 flex items-center gap-1">
                                            <span class="uppercase">All Hours</span>
                                            <svg class="dropdown-icon w-3 h-3" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><path d="M7 10L12 15L17 10" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                        </div>
                                        <div id="full-hours-dropdown-pbw" class="absolute top-full left-0 z-[2005] p-3 bg-black/95 border border-primary-red border-t-0 rounded-b-lg w-48 text-gray-300 text-xs overflow-hidden max-h-0 opacity-0 transition-all duration-300 ease-out"></div>
                                    </div>
                                </div>
            
                                <div class="flex-grow flex flex-col gap-0.5">
                                    <p class="p-muted text-sm leading-snug text-center md:text-left">Wraps, Tint, Coatings, & Detailing</p>
                                    <p class="p-muted text-sm leading-snug text-center md:text-left">Automotive Film & Coating Specialists</p>
                                </div>
                                
                                <div class="mt-auto pt-4 flex flex-col items-center md:items-start gap-4">
                                    <div class="flex items-center gap-4">
                                        <a id="directions-link-pbw" href="#" target="_blank" class="text-sm font-semibold uppercase tracking-wider text-primary-red hover:text-white transition">Directions</a>
                                        <div id="copy-controls-wrapper-pbw" class="relative flex items-center">
                                            <button id="copy-address-button-pbw" class="text-sm font-semibold uppercase tracking-wider text-gray-400 hover:text-white transition">Copy Address</button>
                                            <span id="copy-confirmation-pbw" class="text-green-400 absolute right-0 top-1/2 -translate-y-1/2 ml-2 text-xs font-semibold opacity-0 transition pointer-events-none">Copied!</span>
                                        </div>
                                    </div>
                                    <div id="phone-container-pbw" class="relative"></div>
                                </div>
                            </div>
            
                            <!-- WIKD MOTORSPORTS CARD - GEOMETRY UPDATE: Using .wikd-card for consistency -->
                            <div class="wikd-card">
                                <h3 class="h3 text-2xl text-center md:text-left">WIKD Motorsports</h3>
                                <div class="flex items-center my-2 justify-center md:justify-start min-h-[28px] gap-3">
                                    <div class="flex items-center space-x-1">
                                        <!-- Star 1 -->
                                        <a href="https://share.google/7vAZnoZqZSVFpq84p" target="_blank" rel="noopener noreferrer" class="relative block w-4 h-4 star-container-fade-in"><svg class="absolute top-0 left-0 w-full h-full text-yellow-400 star-glow-pulse" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="absolute top-0 left-0 w-full h-full star-gradient-pulse" fill="url(#starGradient3D)" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><div class="glint-wrapper"></div></a>
                                        <!-- Star 2 -->
                                        <a href="https://share.google/7vAZnoZqZSVFpq84p" target="_blank" rel="noopener noreferrer" class="relative block w-4 h-4 star-container-fade-in"><svg class="absolute top-0 left-0 w-full h-full text-yellow-400 star-glow-pulse" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="absolute top-0 left-0 w-full h-full star-gradient-pulse" fill="url(#starGradient3D)" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><div class="glint-wrapper"></div></a>
                                        <!-- Star 3 -->
                                        <a href="https://share.google/7vAZnoZqZSVFpq84p" target="_blank" rel="noopener noreferrer" class="relative block w-4 h-4 star-container-fade-in"><svg class="absolute top-0 left-0 w-full h-full text-yellow-400 star-glow-pulse" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="absolute top-0 left-0 w-full h-full star-gradient-pulse" fill="url(#starGradient3D)" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><div class="glint-wrapper"></div></a>
                                        <!-- Star 4 -->
                                        <a href="https://share.google/7vAZnoZqZSVFpq84p" target="_blank" rel="noopener noreferrer" class="relative block w-4 h-4 star-container-fade-in"><svg class="absolute top-0 left-0 w-full h-full text-yellow-400 star-glow-pulse" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="absolute top-0 left-0 w-full h-full star-gradient-pulse" fill="url(#starGradient3D)" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><div class="glint-wrapper"></div></a>
                                        <!-- Star 5 (Partial) -->
                                        <a href="https://share.google/7vAZnoZqZSVFpq84p" target="_blank" rel="noopener noreferrer" class="relative block w-4 h-4 star-container-fade-in"><svg class="absolute top-0 left-0 w-full h-full text-yellow-400 star-glow-pulse" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="absolute top-0 left-0 w-full h-full text-zinc-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><div class="absolute top-0 left-0 w-full h-full" style="clip-path: inset(0 40% 0 0);"><svg class="w-full h-full star-gradient-pulse" fill="url(#starGradient3D)" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><div class="glint-wrapper"></div></div></a>
                                    </div>
                                    <div class="text-zinc-300 font-bold text-base star-container-fade-in">
                                        4.6 / 5
                                    </div>
                                </div>
                                  <div id="status-info-group-ms" class="flex items-center gap-3 mb-2 justify-center md:justify-start">
                                    <span id="status-line-ms" class="text-sm font-semibold"></span>
                                  </div>
                                <div class="flex-grow flex flex-col gap-0.5">
                                    <p class="p-muted text-sm leading-snug text-center md:text-left">Tuning, Fabrication, & Custom Builds</p>
                                    <p class="p-muted text-sm leading-snug text-center md:text-left">Forced Induction Systems Specialists</p>
                                </div>
                                <div class="mt-auto pt-4 flex flex-col items-center md:items-start gap-4">
                                     <div class="flex items-center gap-4">
                                         <a id="directions-link-ms" href="#" target="_blank" class="text-sm font-semibold uppercase tracking-wider text-primary-red hover:text-white transition">Directions</a>
                                         <div id="copy-controls-wrapper-ms" class="relative flex items-center">
                                             <button id="copy-address-button-ms" class="text-sm font-semibold uppercase tracking-wider text-gray-400 hover:text-white transition">Copy Address</button>
                                             <span id="copy-confirmation-ms" class="text-green-400 absolute right-0 top-1/2 -translate-y-1/2 ml-2 text-xs font-semibold opacity-0 transition pointer-events-none">Copied!</span>
                                         </div>
                                     </div>
                                     <div id="phone-container-ms" class="relative"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- FINAL CTA -->
                <section id="final-cta-section" class="py-20" style="background-color: var(--color-background);">
                    <div class="mobile-scaled-container">
                        <div class="text-center">
                            
                            <!-- Car Composite Image/Video Section -->
                              <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
                                  <div class="car-composite-wrapper">
                                      <!-- The base car image. It dictates the size of the container. -->
                                      <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/image_24.png?v=1764085690" alt="WIKD Wraps Ceramic Coated Car" class="car-base-image">
                                      
                                      <!-- The overlay video. It is absolutely positioned on top. -->
                                      <video src="https://cdn.shopify.com/videos/c/o/v/fa85c90cb3b948b2979fbbbc32f75d8a.mp4" autoplay loop muted playsinline class="car-effect-video"></video>
                                      <video src="https://cdn.shopify.com/videos/c/o/v/903a4795909c4064b3672c6dfe148552.mp4" autoplay loop muted playsinline class="car-effect-video-2"></video>
                                  </div>
                              </div>
                            <!-- End Car Composite Section -->
                    
                              <!-- Adjusted font size clamp to ensure it fits the width perfectly -->
                              <h2 class="h1" style="font-size: clamp(1.8rem, 4vw, 3.2rem);">
                                      Your car deserves nothing less than perfection.
                              </h2>
                                  <p class="p-muted max-w-2xl mx-auto mt-4 mb-8">
                                      Trust a shop that shares your passion and refuses to cut corners. Experience precision, craftsmanship, and care as if your vehicle were our own.
                                  </p>
                                 <a href="https://wikdwraps.com/pages/contact" class="btn btn-primary">
                                     <span>Get Started</span>
                                 </a>
                        </div>
                    </div>
                </section>
                <textarea id="address-clipboard-helper" style="position: absolute; left: -9999px;"></textarea>
            </main>
            
            <!-- FOOTER -->
            <footer class="wikd-footer">
                <div class="wikd-footer-container">
                    <div class="wikd-footer-grid">
                        <!-- Brand Column -->
                        <div class="wikd-footer-brand">
                            <img src="https://cdn.shopify.com/s/files/1/0671/4635/0805/files/output-onlinepngtools_3.png?v=1737407428&width=300" alt="WIKD Wraps" class="wikd-footer-logo">
                            <p class="wikd-footer-tagline">Uncompromised Protection. WIKD Craftsmanship.</p>
                            <div class="wikd-footer-social">
                                <a href="https://www.facebook.com/wikdwraps" target="_blank" rel="noopener" class="wikd-footer-social-link" aria-label="Facebook">
                                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                                </a>
                                <a href="https://www.instagram.com/wikdwraps" target="_blank" rel="noopener" class="wikd-footer-social-link" aria-label="Instagram">
                                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                                </a>
                                <a href="https://twitter.com/wikdwraps" target="_blank" rel="noopener" class="wikd-footer-social-link" aria-label="X (Twitter)">
                                    <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                                </a>
                            </div>
                        </div>

                        <!-- Services Column -->
                        <div class="wikd-footer-column">
                            <h3>Services</h3>
                            <ul class="wikd-footer-links">
                                <li><a href="https://wikdwraps.com/pages/paint-protection-film">Paint Protection Film</a></li>
                                <li><a href="https://wikdwraps.com/pages/ceramic-coatings">Ceramic Coatings</a></li>
                                <li><a href="https://wikdwraps.com/pages/vinyl-wraps">Vinyl Wraps</a></li>
                                <li><a href="https://wikdwraps.com/pages/window-tint">Window Tint</a></li>
                                <li><a href="https://wikdwraps.com/pages/detailing">Detailing</a></li>
                                <li><a href="https://wikdwraps.com/pages/maintenance-plans">Maintenance Plans</a></li>
                            </ul>
                        </div>

                        <!-- Company Column -->
                        <div class="wikd-footer-column">
                            <h3>Company</h3>
                            <ul class="wikd-footer-links">
                                <li><a href="https://wikdwraps.com/pages/about-us-1">About Us</a></li>
                                <li><a href="https://wikdwraps.com/pages/gallery">Gallery</a></li>
                                <li><a href="https://wikdwraps.com/pages/contact">Contact</a></li>
                                <li><a href="https://wikdwraps.com/pages/careers">Careers</a></li>
                                <li><a href="https://wikdwraps.com/pages/dealers">Dealers</a></li>
                                <li><a href="https://wikdwraps.com/pages/dealers">WIKD Motorsports</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Bottom Bar -->
                    <div class="wikd-footer-bottom">
                        <div class="wikd-footer-copyright">
                            Â© 2025 <a href="/">WIKD Wraps</a>. All rights reserved.
                        </div>
                        <div class="wikd-footer-legal">
                            <a href="https://wikdwraps.com/pages/privacy-policy">Privacy Policy</a>
                            <a href="https://wikdwraps.com/pages/refund-policy">Refund Policy</a>
                            <a href="https://wikdwraps.com/pages/terms-of-service">Terms of Service</a>
                        </div>
                    </div>
                </div>
            </footer>

        </div>
        <!-- END GLOBAL CONTENT WRAPPER -->

        <!-- The existing operational script -->
        <script>
            // --- 1. TIME REACTIVE HERO IMAGE LOGIC ---
            document.addEventListener('DOMContentLoaded', function () {
                const images = [
                    "https://cdn.shopify.com/s/files/1/0648/4826/5421/files/wmremove-transformed_2.png?v=1764340843", // 0: Dawn
                    "https://cdn.shopify.com/s/files/1/0648/4826/5421/files/wmremove-transformed_1_2e4959f8-0902-419b-9a6b-4fb95a8c778a.png?v=1764341229", // 1: Day
                    "https://cdn.shopify.com/s/files/1/0648/4826/5421/files/wmremove-transformed_3.png?v=1764340842", // 2: Sunset
                    "https://cdn.shopify.com/s/files/1/0648/4826/5421/files/wmremove-transformed_7cdce489-7890-4328-85e1-027247c75e9e.png?v=1764340839" // 3: Night
                ];
            
                // Configuration (24-hour format)
                const SCHEDULE = { DAWN_START: 6.0, DAY_START: 10.0, SUNSET_START: 16.5, NIGHT_START: 19.0 };
                const heroContainer = document.getElementById('hero-bg-container');
                let currentActiveIndex = -1;
            
                if (heroContainer) {
                    images.forEach((url, index) => {
                        const img = document.createElement('img');
                        img.src = url;
                        img.className = 'fade-image'; 
                        img.id = `hero-img-${index}`;
                        heroContainer.appendChild(img);
                    });
            
                    function checkTimeAndSetImage() {
                        const now = new Date();
                        const currentHourDecimal = now.getHours() + (now.getMinutes() / 60);
                        let newIndex = 3;
                        if (currentHourDecimal >= SCHEDULE.DAWN_START && currentHourDecimal < SCHEDULE.DAY_START) { newIndex = 0; }
                        else if (currentHourDecimal >= SCHEDULE.DAY_START && currentHourDecimal < SCHEDULE.SUNSET_START) { newIndex = 1; }
                        else if (currentHourDecimal >= SCHEDULE.SUNSET_START && currentHourDecimal < SCHEDULE.NIGHT_START) { newIndex = 2; }
                        else { newIndex = 3; }
                        if (newIndex !== currentActiveIndex) { setImage(newIndex); }
                    }
            
                    function setImage(index) {
                        const allImages = document.querySelectorAll('.fade-image');
                        allImages.forEach(img => img.classList.remove('active'));
                        const nextImage = document.getElementById(`hero-img-${index}`);
                        if (nextImage) { nextImage.classList.add('active'); }
                        currentActiveIndex = index;
                        console.log(`Time: ${new Date().toLocaleTimeString()} | Setting Phase: ${index}`);
                    }
            
                    checkTimeAndSetImage();
                    setInterval(checkTimeAndSetImage, 60000); 
                }
            
                function initializeLocationCard(config) {
                    const { idPrefix, phone, address, directionsLink, hours, showOpenStatus } = config;
                    const UI = { statusLine: document.getElementById(`status-line-${idPrefix}`), phoneContainer: document.getElementById(`phone-container-${idPrefix}`), hoursToggle: document.getElementById(`hours-dropdown-toggle-${idPrefix}`), hoursDropdown: document.getElementById(`full-hours-dropdown-${idPrefix}`), copyButton: document.getElementById(`copy-address-button-${idPrefix}`), copyConfirmation: document.getElementById(`copy-confirmation-${idPrefix}`), directionsLink: document.getElementById(`directions-link-${idPrefix}`), clipboardHelper: document.getElementById('address-clipboard-helper') };
                    const normalizedPhone = phone.replace(/\D/g, '');
                    const DAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            
                    function formatTime(hourFloat) {
                        if (hourFloat === null) return 'Closed';
                        const hours = Math.floor(hourFloat);
                        const minutes = Math.round((hourFloat - hours) * 60);
                        const ampm = hours >= 12 ? 'PM' : 'AM';
                        const displayHours = hours % 12 || 12;
                        const displayMinutes = minutes < 10 ? '0' + minutes : minutes;
                        return `${displayHours}:${displayMinutes} ${ampm}`;
                    }
            
                    function getBusinessStatus() {
                        const now = new Date();
                        const dayIndex = now.getDay();
                        const currentDay = DAYS[dayIndex];
                        const currentHourFloat = now.getHours() + now.getMinutes() / 60;
                        const todayHours = hours[currentDay];
                        const isOpen = todayHours.open !== null && currentHourFloat >= todayHours.open && currentHourFloat < todayHours.close;
                        if (isOpen) { return { isOpen: true, statusText: 'OPEN' }; }
                        for (let i = 0; i < 7; i++) {
                            const checkDayIndex = (dayIndex + i) % 7;
                            const checkDay = DAYS[checkDayIndex];
                            const dayHoursData = hours[checkDay];
                            if (dayHoursData.open !== null) {
                                if (i === 0) {
                                    if (currentHourFloat < dayHoursData.open) { return { isOpen: false, nextOpenTime: formatTime(dayHoursData.open), nextOpenDay: 'TODAY' }; }
                                } else {
                                    return { isOpen: false, nextOpenTime: formatTime(dayHoursData.open), nextOpenDay: checkDay.toUpperCase() };
                                }
                            }
                        }
                        return { isOpen: false, statusText: 'CLOSED FOR WEEK' };
                    }
                    function isMobileDevice() { return ('ontouchstart' in window) || (navigator.maxTouchPoints > 0); }
                    function toggleHoursDropdown() {
                        if(!UI.hoursDropdown) return;
                        UI.hoursDropdown.classList.toggle('max-h-0');
                        UI.hoursDropdown.classList.toggle('max-h-64'); 
                        UI.hoursDropdown.classList.toggle('opacity-0'); 
                        UI.hoursToggle.querySelector('svg').classList.toggle('active');
                    }
            
                    function toggleQrTooltip(qrTooltip, canvas) {
                        const isActive = qrTooltip.classList.contains('active');
                        if (isActive && typeof QRCode !== 'undefined' && !canvas.dataset.rendered) {
                            QRCode.toCanvas(canvas, `tel:${normalizedPhone}`, {
                                width: 150,
                                margin: 1,
                                color: { dark: '#FF3B30', light: '#141414' }
                            }, function (error) {
                                if (error) console.error("QR Code Error:", error);
                                canvas.dataset.rendered = 'true';
                            });
                        }
                    }
            
                    function renderDynamicContent() {
                        const status = getBusinessStatus();
                        if (UI.statusLine) {
                            UI.statusLine.className = 'text-sm font-semibold transition duration-300';
                            if (status.isOpen) {
                                if (showOpenStatus) {
                                    UI.statusLine.classList.add('text-green-400');
                                    UI.statusLine.textContent = status.statusText;
                                } else {
                                     UI.statusLine.textContent = '';
                                }
                            } else {
                                UI.statusLine.classList.add('text-primary-red');
                                if (status.nextOpenDay) {
                                    UI.statusLine.textContent = `OPENS ${status.nextOpenDay} at ${status.nextOpenTime}`;
                                } else {
                                    UI.statusLine.textContent = status.statusText;
                                }
                            }
                        }
            
                        if (UI.phoneContainer) {
                            if (status.isOpen) {
                                UI.phoneContainer.innerHTML = `
                                    <div class="call-link-container" style="display: inline-block; position: relative;">
                                        <a href="tel:${normalizedPhone}" id="call-link-${idPrefix}" class="call-link push-to-call inline-flex items-center p-0 border-none bg-none cursor-pointer text-decoration-none gap-1" title="Click to call or scan QR code on desktop">
                                            <animated-icons
                                                src="https://animatedicons.co/get-icon?name=Calling%20V3&style=minimalistic&token=66ff3706-138c-41fa-a993-dee03566e48c"
                                                trigger="loop"
                                                attributes='{"variationThumbColour":"#ff3b30","variationName":"Dark","variationNumber":4,"numberOfGroups":2,"strokeWidth":1.5,"background":"#000000","defaultColours":{"group-1":"#ff3b30","group-2":"#eaeaea","background":"#000000"}}'
                                                height="16" width="16">
                                            </animated-icons>
                                            <span class="lava-text text-sm uppercase leading-none">GIVE US A RING</span>
                                        </a>
                                        <div id="qr-tooltip-${idPrefix}" class="qr-tooltip">
                                            <canvas width="150" height="150"></canvas>
                                            <p class="mt-1 text-xs text-gray-300">Scan to call us!</p>
                                        </div>
                                    </div>`;
            
                                const callLink = document.getElementById(`call-link-${idPrefix}`);
                                const qrTooltip = document.getElementById(`qr-tooltip-${idPrefix}`);
                                const canvas = qrTooltip ? qrTooltip.querySelector('canvas') : null;
            
                                if (callLink && qrTooltip && canvas) {
                                    callLink.addEventListener('click', function(e) {
                                        if (!isMobileDevice()) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            qrTooltip.classList.toggle('active');
                                            toggleQrTooltip(qrTooltip, canvas);
                                        }
                                    });
                                }
                            } else {
                                UI.phoneContainer.innerHTML = `<span class="text-gray-400 text-sm font-semibold m-0 p-0 block leading-none">${phone}</span>`;
                            }
                        }
            
                        if (UI.hoursDropdown) {
                            let hoursHtml = '';
                            for (const day of DAYS) {
                                const dayHours = hours[day];
                                const time = dayHours.closedText || `${formatTime(dayHours.open)} - ${formatTime(dayHours.close)}`;
                                const isCurrentDay = (new Date()).getDay() === DAYS.indexOf(day);
                                const dayClass = isCurrentDay ? 'text-primary-red font-bold' : 'text-gray-300';
                                hoursHtml += `<div class="flex justify-between items-center py-0.5"><span class="${dayClass}">${day}:</span><span class="${dayClass}">${time}</span></div>`;
                            }
                            UI.hoursDropdown.innerHTML = hoursHtml;
                        }
                    }
            
                    function copyAddress() {
                        UI.clipboardHelper.value = address;
                        UI.clipboardHelper.select();
                        UI.clipboardHelper.setSelectionRange(0, 99999);
                        
                        try {
                            const success = document.execCommand('copy');
                            if (success) {
                                UI.copyConfirmation.style.opacity = '1';
                                setTimeout(() => { UI.copyConfirmation.style.opacity = '0'; }, 1500);
                            }
                        } catch (err) {
                            console.error('Failed to copy address:', err);
                        } finally {
                            ui.clipboardHelper.value = '';
                            if (window.getSelection) { window.getSelection().removeAllRanges(); }
                        }
                    }
                    
                    renderDynamicContent();
                    
                    if (UI.hoursToggle) UI.hoursToggle.addEventListener('click', toggleHoursDropdown);
                    if (UI.copyButton) UI.copyButton.addEventListener('click', copyAddress);
                    if (UI.directionsLink) UI.directionsLink.href = directionsLink;
            
                    setInterval(renderDynamicContent, 60000);
                }
            
                // --- CONFIGURATIONS ---
                const pbwHours = { 'Sun': { open: null, close: null, closedText: 'Closed' }, 'Mon': { open: 8.5, close: 17 }, 'Tue': { open: 8.5, close: 17 }, 'Wed': { open: 8.5, close: 17 }, 'Thu': { open: 8.5, close: 17 }, 'Fri': { open: 8.5, close: 17 }, 'Sat': { open: null, close: null, closedText: 'Closed' } };
                const msHours = { 'Sun': { open: null, close: null, closedText: 'Closed' }, 'Mon': { open: 8.5, close: 16.5 }, 'Tue': { open: 8.5, close: 16.5 }, 'Wed': { open: 8.5, close: 16.5 }, 'Thu': { open: 8.5, close: 16.5 }, 'Fri': { open: 8.5, close: 16.5 }, 'Sat': { open: null, close: null, closedText: 'Closed' } };
            
                initializeLocationCard({ idPrefix: 'pbw', phone: '469-625-1127', address: '501 E Lamar St, McKinney, TX 75069', directionsLink: 'https://maps.google.com/?daddr=501%20E%20Lamar%20St%2C%20McKinney%2C%20TX%2075069', hours: pbwHours, showOpenStatus: true });
                initializeLocationCard({ idPrefix: 'ms', phone: '844-232-9453', address: '417 Metro Park Dr, McKinney, TX 75071', directionsLink: 'https://maps.google.com/?daddr=417%20Metro%20Park%20Dr%2C%20McKinney%2C%20TX%2075071', hours: msHours, showOpenStatus: false });
                
                document.addEventListener('click', (e) => {
                     ['pbw', 'ms'].forEach(idPrefix => {
                        const qrTooltip = document.getElementById(`qr-tooltip-${idPrefix}`);
                        const callLink = document.getElementById(`call-link-${idPrefix}`);
                        if (qrTooltip && qrTooltip.classList.contains('active') && !qrTooltip.contains(e.target) && callLink && !callLink.contains(e.target)) {
                            qrTooltip.classList.remove('active');
                        }
                     });
                });
            
                if (window.matchMedia('(max-width: 768px)').matches) {
                    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.5 };
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) { entry.target.classList.add('mobile-view'); }
                            else { entry.target.classList.remove('mobile-view'); }
                        });
                    }, observerOptions);
            
                    const cardsToObserve = document.querySelectorAll('.package-card, .gallery-card');
                    cardsToObserve.forEach(card => { observer.observe(card); });
                }
            
            });
        </script>
        <!-- END: ORIGINAL CONTENT PROVIDED BY USER -->
    </div>
    
    <!-- --- NEW INTRO SEQUENCE JS LOGIC --- -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const INTRO_CONFIG = {
                LOCK_ICON_ID: 'lock-icon-container',
                STAGE_LOCK_ID: 'stage-1-lock',
                STAGE_CODE_ID: 'stage-3-code',
                CODE_DISPLAY_ID: 'code-display',
                OVERLAY_ID: 'intro-overlay',
                APP_CONTENT_ID: 'main-app-content',
                CLOSE_BTN_ID: 'close-overlay-btn',
                COMPOSITE_ID: 'intro-composite-tint',
                CODE_LENGTH: 25,
                SCRAMBLE_CHARS: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-=+'
            };

            const ui = {
                lockIcon: document.getElementById(INTRO_CONFIG.LOCK_ICON_ID),
                stageLock: document.getElementById(INTRO_CONFIG.STAGE_LOCK_ID),
                messageText: document.getElementById('message-text'), 
                stageCode: document.getElementById(INTRO_CONFIG.STAGE_CODE_ID),
                codeDisplay: document.getElementById(INTRO_CONFIG.CODE_DISPLAY_ID),
                overlay: document.getElementById(INTRO_CONFIG.OVERLAY_ID),
                appContent: document.getElementById(INTRO_CONFIG.APP_CONTENT_ID),
                closeBtn: document.getElementById(INTRO_CONFIG.CLOSE_BTN_ID),
                compositeTint: document.getElementById(INTRO_CONFIG.COMPOSITE_ID),
                video1: document.getElementById('intro-video-1'),
                video2: document.getElementById('intro-video-2'),
            };

            let exclusiveCode = null;

            // --- SECURE RANDOM NUMBER GENERATION ---
            
            function generateExclusiveCode() {
                let result = '';
                for (let i = 0; i < INTRO_CONFIG.CODE_LENGTH; i++) {
                    if (window.crypto && window.crypto.getRandomValues) {
                        const randomArray = new Uint32Array(1);
                        window.crypto.getRandomValues(randomArray);
                        const randomIndex = randomArray[0] % INTRO_CONFIG.SCRAMBLE_CHARS.length;
                        result += INTRO_CONFIG.SCRAMBLE_CHARS.charAt(randomIndex);
                    } else {
                        result += INTRO_CONFIG.SCRAMBLE_CHARS.charAt(Math.floor(Math.random() * INTRO_CONFIG.SCRAMBLE_CHARS.length));
                    }
                }
                return result;
            }

            // --- SCRAMBLING LOGIC ---

            function scrambleCode(targetElement, codeLength) {
                let scrambleInterval = null;
                const charElements = [];
                targetElement.innerHTML = ''; 

                for (let i = 0; i < codeLength; i++) {
                    const charSpan = document.createElement('span');
                    charSpan.classList.add('code-char');
                    // Adding a small background to hide the character before reveal
                    charSpan.style.backgroundColor = 'var(--color-primary)';
                    charSpan.style.color = 'var(--color-background)'; // Hides the scrambling character
                    charElements.push(charSpan);
                    targetElement.appendChild(charSpan);
                }

                scrambleInterval = setInterval(() => {
                    charElements.forEach((span) => {
                        const randomChar = INTRO_CONFIG.SCRAMBLE_CHARS[Math.floor(Math.random() * INTRO_CONFIG.SCRAMBLE_CHARS.length)];
                        span.textContent = randomChar;
                    });
                }, 50); 

                return { charElements, scrambleInterval };
            }

            function stopScramblingAndReveal(charElements, intervalId, finalCode) {
                clearInterval(intervalId); 

                charElements.forEach((charSpan, index) => {
                    const delay = index * 40; 

                    setTimeout(() => {
                        charSpan.style.transition = 'all 0.3s ease-out';
                        charSpan.style.backgroundColor = 'transparent'; // Reveal background
                        charSpan.style.color = 'var(--color-primary)'; // Reveal text color

                        charSpan.textContent = finalCode[index];
                        charSpan.classList.add('reveal');
                    }, delay);
                });
            }

            function revealFinalContent() {
                document.querySelectorAll('.final-step-item').forEach(item => {
                    item.classList.add('opacity-100');
                    item.classList.remove('opacity-0');
                    item.style.opacity = 1; 
                });
                
                if (ui.closeBtn) {
                     ui.closeBtn.style.display = 'inline-block';
                }
            }
            
            // --- SEQUENCE STEPS ---

            // Composite Video Preload Hack: Start downloading video assets immediately
            if (ui.video1 && ui.video2) {
                const preloadVideo = (video) => {
                    if (video.readyState < 3) { // Check if not enough data is loaded yet
                        video.muted = true;
                        video.setAttribute('playsinline', '');
                        video.play().catch(e => console.warn("Video preload failed (expected in some browsers):", e));
                    }
                };

                preloadVideo(ui.video1);
                preloadVideo(ui.video2);
            }


            function step1_LockIn() {
                if (!ui.stageLock) return; 

                // 1. Lock icon scales in and fades in (via the CSS transition - 0.5s)
                ui.stageLock.classList.add('fade-in');

                // 2. Start the next step earlier: Reducing delay from 750ms to 600ms for a quicker transition
                setTimeout(step2_MessageReveal, 600);
            }

            function step2_MessageReveal() {
                // STEP 2A: Lock pushes out (0.375s, scale) and fades (0.2s, opacity)
                
                // 1. Lock pushes out immediately with a fast exit transition
                if (ui.stageLock) ui.stageLock.classList.add('fade-out'); 
                
                if (ui.messageText) {
                    // 2. Reveal the message immediately at its final top-aligned position
                    ui.messageText.style.display = 'block';
                    ui.messageText.classList.add('active'); 
                }
                
                // 3. Activate the code stage (fade in) after a short overlap delay
                if (ui.stageCode) ui.stageCode.classList.add('active'); 
                
                // Delay for the Lock Exit (0.375s, scale) + a small buffer (25ms) = 400ms.
                setTimeout(step3_CodeReveal, 400);
            }

            function step3_CodeReveal() {
                exclusiveCode = generateExclusiveCode();

                if (ui.codeDisplay) { 
                    const { charElements, scrambleInterval } = scrambleCode(ui.codeDisplay, INTRO_CONFIG.CODE_LENGTH);

                    // Scramble for 500ms then stop and reveal
                    setTimeout(() => {
                        stopScramblingAndReveal(charElements, scrambleInterval, exclusiveCode);
                        
                        // Delay for full sequential reveal (1000ms)
                        setTimeout(step4_FinalReveal, 1000); 
                    }, 500); 
                } 
                else {
                    setTimeout(step4_FinalReveal, 500);
                }
            }
            
            function step4_FinalReveal() {
                revealFinalContent();
            }

            function finishSequence() {
                if (ui.overlay) ui.overlay.style.opacity = '0'; 
                if (ui.appContent) ui.appContent.style.opacity = '1'; 

                setTimeout(() => {
                    if (ui.overlay) ui.overlay.style.display = 'none'; 
                }, 1000);
            }
            
            // --- MAIN EXECUTION START ---

            if (ui.appContent) ui.appContent.style.opacity = '0'; 

            step1_LockIn();
            
            if (ui.closeBtn) {
                ui.closeBtn.addEventListener('click', finishSequence);
            }
        });
    </script>
</body>
</html>
